@import 'colors'
@import 'nib'

section.graph-display.graph
    position relative
    max-width 1200px
    margin 3em auto
    
    .graph-name-row
        margin-bottom 1em
        clearfix()
    
    .inner, .row
        position relative
    
    /* * * *  Chart & Viewport  * * * {{{ */
    
    section.callout
        float left
        z-index 100
        width 15.385em
        padding 0 6em 0 0
        background-color white
        text-align right
        
        .latest-metric
            font-size 18px
            line-height 36px
        .metric-change
            font 11px/1.5 "helvetica neue", helvetica, arial, sans-serif
            span
                display inline-block
                &.dates
                    width 140px
                &.value
                    width 60px
                    &.delta-positive
                        color #009048
                    &.delta-negative
                        color #C9313D
    
    // .canvas-node:hover + .legend-node
    //     border 1px solid $light
    
    section.canvas-node
        position relative
        min-width 200px
        min-height 320px
        margin-bottom 1.5em
        overflow hidden
        
        & section.meta
            absolute top left
            
            &.fg
                z-index 500
            &.bg
                z-index 0
        
        section.chart
            // absolute top left
            z-index 100
    
    section.legend-node ~ section.canvas-node
        margin-left 17.385em
    
    section.legend-node
        absolute top left
        z-index 200
        width 14.667em
        
        margin-top 30px
        padding 1em
        background-color rgba(255,255,255, 0.75)
        font 12px/1.5 "helvetica neue", helvetica, arial, sans-serif
        border 1px solid $light
        border-radius 5px
        
        ul, li
            list-style none
            margin-left 0
            padding-left 0
        .entry-label
            display inline-block
            width 9.5em
            font-weight bold
        .entry-value
            .whole
                display inline-block
                width 2.5em
                text-align right
            .fraction
                text-align left
            .suffix
                text-align left
    
    
    
    /* }}} */
    
    
    /* * * *  Subnav & Tabs  * * * {{{ */
    .graph-settings.tabbable
        .nav
            margin-bottom 0
            
            li h3
                line-height 14px
                margin 2px
                padding 8px 12px
                border-radius 5px
            li
                margin-right 4px
        
        .tab-pane
            padding 0.5em
            margin-top 18px
            
            &.graph-data-pane
                margin-top 0
                padding 0
    
    .graph-controls
        z-index 100
        margin-top 2px
        
        & > .btn, & > .btn-group
            margin 0 0.5em
        
        .btn-group
            display inline-block
        
        input[type="button"]
            min-width 5em
            text-align center
    
    .graph-permalink
        display inline-block
        input
            cursor auto
    
    .ug
        padding-left 3em
    
    /* }}} */
    
    
    /* * * *  Graph Details  * * * {{{ */
    form.graph-details
        position relative
        
        .name-row
            font-size 120%
            line-height 2em
            input.name
                font-size 120%
                line-height 1.2
                height 1.2em
                border-color $light
                width 98%
        .row-fluid
            .half.control-group
                width 50%
                float left
                margin-left 0
                margin-right 0
            label
                width 100px
            .controls
                margin-left 110px
        .help-block
            font-size 11px
            line-height 1.3
    /* }}} */
    
    
    /* * * *  Chart Options  * * * {{{ */
    .chart-options fieldset
        border 0px
    
    .chart-option.field
        float left
        z-index 3
        padding 0.5em
        margin 0.4em
        min-width 200px
        max-width 250px
        min-height 1.5em
        line-height 1.5
        overflow hidden
        
        border-radius 5px
        background-color #ccc
        font-size 90%
        
        
        h3
            font-size 14px
            line-height 1.3
            cursor pointer
        
        .close
            absolute top right 0.1em
            width 1em
            height 1em
            line-height 1.2em
            text-align center
            text-decoration none
            z-index 10
            cursor pointer
            opacity 0.3
            &:hover
                opacity 0.6
        
        .shortname
            font-weight bold
            color white
            min-height 1.5em
        .name
            display none
            font-weight bold
            // line-height 1.5
            // font-size 100%
        input.value:not([type="checkbox"])
            width 240px
            font-family menlo, monospace
        .type
            &::before
                content "Type: "
                font-weight bold
        .default
            &::before
                content "Default: "
                font-weight bold
        .desc
            position relative
        .tags, .examples
            cursor pointer
        .tags
            font-size 85%
            &::before
                content "Tags: "
                font-weight bold
            .tag
                margin 0.2em
                line-height 1.5
                padding 0.2em
                white-space nowrap
                color white
                background-color rgba(255,255,255, 0.15)
                border-radius 5px
                // border 1px solid white
        .examples
            display none
            &::before
                content "Examples"
                font-weight bold
            .example
                position relative
        
        
        &.collapsed
            z-index 2
            width auto
            min-width 50px
            min-height 2em
            max-width none
            line-height 2
            
            cursor pointer
            text-align center
            
            *
                display none
            .shortname
                display inline-block
                min-width 50px
                min-height auto
        
        
        /* Category/Tag Colors {{{ */
        for i in 0...length($hilites)
            $bg_color    = $hilites[i]
            $tag_color   = $bg_color + contrast_direction($bg_color) * 50%
            $fg_color    = (lightness($bg_color) > 55%) ? $dark : $light
            
            &.category_{i}
                color $fg_color
                background-color $bg_color
                // .shortname, .name, .close
                //     color $tag_color
                label, h1, h2, h3, .shortname, .name, .close
                    color $fg_color
            
            .tag.category_{i}
                // border 1px solid $tag_color
                // color $tag_color
                // background-color $bg_color
                color $fg_color
                background-color $bg_color
        
        /* }}} */
        
    /* }}} End Chart Options */




