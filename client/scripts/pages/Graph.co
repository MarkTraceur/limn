define ['pages/Base', 'models/Graph'], (BasePage, GraphModel) ->
    class Graph extends BasePage
        (id, currentPage) ->
            
            if currentPage?.graphs?()
                model = ko.utils.arrayFirst currentPage.graphs(), (d) -> d.id() == id
            else
                model = new GraphModel(id)
            
            @graph = ko.observable(model)
            @template = 'graph'
